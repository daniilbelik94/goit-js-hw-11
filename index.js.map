{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/error-massage.svg","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/?';\n\nexport const gethPhotos = searchValue => {\n  const options = new URLSearchParams({\n    key: '39461522-3585b4ffe1c253549e3ec0e9b',\n    q: searchValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}${options}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n};\n","export const createGalleryElement = galleryElementInfo => {\n  return `\n  <li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${galleryElementInfo.largeImageURL}\">\n      <img class=\"gallery-img\"\n      src=\"${galleryElementInfo.webformatURL}\"\n      alt=\"${galleryElementInfo.tags}\"\n      loading=\"lazy\" />\n    </a>\n    <ul class=\"gallery-info\">\n      <li class=\"gallery-info-item\">\n        <p class=\"gallery-info-title\">Likes</p>\n        <p class=\"gallery-info-text\">${galleryElementInfo.likes}</p>\n      </li>\n      <li class=\"gallery-info-item\">\n        <p class=\"gallery-info-title\">Views</p>\n        <p class=\"gallery-info-text\">${galleryElementInfo.views}</p>\n      </li>\n      <li class=\"gallery-info-item\">\n        <p class=\"gallery-info-title\">Comments</p>\n        <p class=\"gallery-info-text\">${galleryElementInfo.comments}</p>\n      </li>\n      <li class=\"gallery-info-item\">\n        <p class=\"gallery-info-title\">Downloads</p>\n        <p class=\"gallery-info-text\">${galleryElementInfo.downloads}</p>\n      </li>\n    </ul>\n  </li>\n  `;\n};\n","export default \"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20fill='none'%3e%3cpath%20fill='%23FAFAFB'%20d='M6.81.219A.75.75%200%200%201%207.34%200h9.32a.75.75%200%200%201%20.53.219l6.591%206.591a.75.75%200%200%201%20.219.53v9.32a.75.75%200%200%201-.219.53l-6.591%206.591a.75.75%200%200%201-.53.219H7.34a.75.75%200%200%201-.53-.219L.219%2017.19A.75.75%200%200%201%200%2016.66V7.34a.75.75%200%200%201%20.219-.53L6.81.219ZM7.65%201.5%201.5%207.65v8.7l6.15%206.15h8.7l6.15-6.15v-8.7L16.35%201.5h-8.7Z'/%3e%3cpath%20fill='%23FAFAFB'%20d='M6.969%206.97a.75.75%200%200%201%201.062%200L12%2010.94l3.969-3.97a.75.75%200%201%201%201.062%201.061l-3.97%203.97%203.97%203.968a.753.753%200%200%201%200%201.062.749.749%200%200%201-1.062%200L12%2013.061l-3.969%203.97a.75.75%200%200%201-1.225-.243.751.751%200%200%201%20.163-.819L10.939%2012%206.97%208.031a.75.75%200%200%201%200-1.062Z'/%3e%3c/svg%3e\"","import iziToast from 'izitoast';\n\nimport { gethPhotos } from './js/pixabay-api';\nimport { createGalleryElement } from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\n\nimport errorMessage from './img/error-massage.svg';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery-list');\nconst loaderBox = document.querySelector('.loader-box');\n\nform.addEventListener('submit', onFormSubmit);\n\nconst simpleLightbox = new SimpleLightbox('.gallery-list a', {\n  captionDelay: 250,\n  captionPosition: 'bottom',\n  captionsData: 'alt',\n  overlayOpacity: 1,\n});\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  const searchInputValue = form.elements.search.value.trim();\n\n  if (searchInputValue.trim() === '') {\n    return;\n  }\n\n  gallery.innerHTML = '';\n  loaderBox.classList.add('loader-box-active');\n\n  gethPhotos(searchInputValue)\n    .then(data => {\n      loaderBox.classList.add('loader-box-active');\n      if (data.hits.length === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please, try again!',\n          position: 'topRight',\n          backgroundColor: '#ef4040',\n          titleColor: '#fff',\n          titleSize: '16px',\n          titleLineHeight: '24px',\n          messageColor: '#fff',\n          messageSize: '16px',\n          messageLineHeight: '24px',\n          iconUrl: errorMessage,\n          maxWidth: '385px',\n          timeout: 5000,\n        });\n        gallery.innerHTML = '';\n        form.reset();\n        form.elements.search.focus();\n        return;\n      }\n      const galleryCardsTemplate = data.hits\n        .map(imgInfo => createGalleryElement(imgInfo))\n        .join('');\n      gallery.innerHTML = galleryCardsTemplate;\n      simpleLightbox.refresh();\n      form.reset();\n      form.elements.search.focus();\n    })\n    .catch(err => {\n      console.log(err);\n    })\n    .finally(() => {\n      loaderBox.classList.remove('loader-box-active');\n    });\n}\n"],"names":["BASE_URL","gethPhotos","searchValue","options","response","createGalleryElement","galleryElementInfo","errorMessage","form","gallery","loaderBox","onFormSubmit","simpleLightbox","SimpleLightbox","e","searchInputValue","data","iziToast","galleryCardsTemplate","imgInfo","err"],"mappings":"6vBAAA,MAAMA,EAAW,4BAEJC,EAAaC,GAAe,CACvC,MAAMC,EAAU,IAAI,gBAAgB,CAClC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,GAAGG,CAAO,EAAE,EAAE,KAAKC,GAAY,CACrD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACpB,CAAG,CACH,EClBaC,EAAuBC,GAC3B;AAAA;AAAA,oCAE2BA,EAAmB,aAAa;AAAA;AAAA,aAEvDA,EAAmB,YAAY;AAAA,aAC/BA,EAAmB,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAMGA,EAAmB,KAAK;AAAA;AAAA;AAAA;AAAA,uCAIxBA,EAAmB,KAAK;AAAA;AAAA;AAAA;AAAA,uCAIxBA,EAAmB,QAAQ;AAAA;AAAA;AAAA;AAAA,uCAI3BA,EAAmB,SAAS;AAAA;AAAA;AAAA;AAAA,ICxBpDC,EAAA,u5BCQTC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,eAAe,EAChDC,EAAY,SAAS,cAAc,aAAa,EAEtDF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,MAAMC,EAAiB,IAAIC,EAAe,kBAAmB,CAC3D,aAAc,IACd,gBAAiB,SACjB,aAAc,MACd,eAAgB,CAClB,CAAC,EAED,SAASF,EAAaG,EAAG,CACvBA,EAAE,eAAc,EAEhB,MAAMC,EAAmBP,EAAK,SAAS,OAAO,MAAM,OAEhDO,EAAiB,KAAM,IAAK,KAIhCN,EAAQ,UAAY,GACpBC,EAAU,UAAU,IAAI,mBAAmB,EAE3CT,EAAWc,CAAgB,EACxB,KAAKC,GAAQ,CAEZ,GADAN,EAAU,UAAU,IAAI,mBAAmB,EACvCM,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,KAAK,CACZ,QACE,4EACF,SAAU,WACV,gBAAiB,UACjB,WAAY,OACZ,UAAW,OACX,gBAAiB,OACjB,aAAc,OACd,YAAa,OACb,kBAAmB,OACnB,QAASV,EACT,SAAU,QACV,QAAS,GACnB,CAAS,EACDE,EAAQ,UAAY,GACpBD,EAAK,MAAK,EACVA,EAAK,SAAS,OAAO,QACrB,MACD,CACD,MAAMU,EAAuBF,EAAK,KAC/B,IAAIG,GAAWd,EAAqBc,CAAO,CAAC,EAC5C,KAAK,EAAE,EACVV,EAAQ,UAAYS,EACpBN,EAAe,QAAO,EACtBJ,EAAK,MAAK,EACVA,EAAK,SAAS,OAAO,OAC3B,CAAK,EACA,MAAMY,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,EACA,QAAQ,IAAM,CACbV,EAAU,UAAU,OAAO,mBAAmB,CACpD,CAAK,EACL"}